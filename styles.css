:root{
  --bg:#0b0d10;
  --card:#12151b;
  --card2:#0f1217;
  --text:#f2f4f8;
  --muted:rgba(242,244,248,.72);
  --line:rgba(255,255,255,.10);
  --accent:#1f4dff;
  --danger:#ff3b3b;
  --radius:18px;
}

*{ box-sizing:border-box; }
html,body{ margin:0; padding:0; background:var(--bg); color:var(--text); font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial; }

h1{ margin:0; font-size:18px; line-height:1.2; }
h2{ margin:0; font-size:16px; }
b{ font-weight:800; }

.muted{ color:var(--muted); font-size:12.5px; }

.container{ width:min(1180px, calc(100% - 28px)); margin:16px auto 28px; }

/* Topbar */
.topbar{
  display:flex; gap:14px; align-items:flex-start; justify-content:space-between;
  padding:14px; border-bottom:1px solid var(--line);
  position:sticky; top:0; z-index:50;
  background:linear-gradient(180deg, rgba(11,13,16,.96), rgba(11,13,16,.88));
  backdrop-filter: blur(10px);
}

.topbar-left{ min-width:260px; }
.topbar-right{ display:flex; align-items:center; gap:10px; flex-wrap:wrap; justify-content:flex-end; }

.inline{ display:flex; align-items:center; gap:8px; }
select{
  background:var(--card); color:var(--text);
  border:1px solid var(--line); border-radius:12px;
  padding:8px 10px; font-weight:700;
}

.btn{
  background:var(--card); color:var(--text);
  border:1px solid var(--line); border-radius:12px;
  padding:9px 12px; cursor:pointer; font-weight:800;
}
.btn:hover{ border-color:rgba(255,255,255,.22); }
.btn.danger{ border-color:rgba(255,59,59,.45); }
.btn.danger:hover{ border-color:rgba(255,59,59,.75); }

.topbar-chips{ display:flex; gap:10px; flex-wrap:wrap; justify-content:center; }
.chipCard{
  background:var(--card); border:1px solid var(--line);
  border-radius:14px; padding:10px 12px; min-width:190px;
}
.chipK{ font-size:11px; color:var(--muted); font-weight:800; }
.chipV{ font-size:18px; font-weight:950; }

/* About toggle */
.aboutData{ margin-top:6px; max-width:520px; }
.aboutBtn{
  background:transparent; border:0; padding:0;
  cursor:pointer; font-weight:800; text-decoration:underline;
  opacity:.85; color:var(--text);
}
.aboutBtn:hover{ opacity:1; }
.aboutBody{ margin-top:6px; font-size:12.5px; line-height:1.35; opacity:.9; color:var(--muted); }

/* Layout rows + cards */
.layout-row{ display:grid; gap:14px; margin-top:14px; }
.row-equal{ grid-template-columns: 1fr 1fr; }
@media (max-width: 980px){ .row-equal{ grid-template-columns:1fr; } }

.card{
  background:var(--card);
  border:1px solid var(--line);
  border-radius:var(--radius);
  padding:14px;
  box-shadow: 0 10px 30px rgba(0,0,0,.25);
}
.card-compact{ padding:12px; }
.card.accent{ border-color:rgba(31,77,255,.45); background:linear-gradient(180deg, rgba(18,21,27,1), rgba(14,18,26,1)); }

.cardHead{ display:flex; flex-direction:column; gap:6px; }
.chip{
  display:inline-block; width:max-content;
  font-size:10.5px; letter-spacing:.08em;
  padding:6px 10px; border-radius:999px;
  background:rgba(255,255,255,.06); border:1px solid var(--line);
  font-weight:950;
}
.countyChip{ background:rgba(64,150,255,.12); border-color:rgba(64,150,255,.28); }
.divider{ height:1px; background:var(--line); margin:12px 0; }

/* Steps */
.steps-tight{ font-size:13px; }
.stepTitle{ font-weight:900; margin-bottom:6px; }
.steps-actions{ margin-top:10px; }

/* Forms */
.formGrid{ display:grid; grid-template-columns: 1fr 1fr; gap:10px; }
@media (max-width: 520px){ .formGrid{ grid-template-columns:1fr; } }

.field label{ display:block; font-size:12px; color:var(--muted); font-weight:800; margin-bottom:6px; }
.field input{
  width:100%;
  background:var(--card2);
  color:var(--text);
  border:1px solid var(--line);
  border-radius:12px;
  padding:10px 10px;
  font-weight:850;
  outline:none;
}
.field input:focus{ border-color:rgba(255,255,255,.25); }

.countyTintMini input,
.countyTintMini{ border-color:rgba(64,150,255,.28); }
.countyTintMini input{ background:rgba(64,150,255,.08); }

.totals{ display:flex; gap:10px; margin-top:12px; flex-wrap:wrap; }
.totals-tight{ margin-top:10px; }
.mini{
  background:rgba(255,255,255,.04);
  border:1px solid var(--line);
  border-radius:14px;
  padding:10px 12px;
  min-width:240px;
}
.mini .k{ color:var(--muted); font-size:11px; font-weight:900; }
.mini .v{ font-size:16px; font-weight:950; margin-top:4px; }

/* EIT */
.eitGrid{ display:grid; grid-template-columns: 1fr 120px 180px; gap:10px; align-items:stretch; }
.eitGrid-compact{ grid-template-columns: 1fr 120px 180px; }
@media (max-width: 720px){ .eitGrid{ grid-template-columns:1fr; } }
.stat{
  background:rgba(255,255,255,.04);
  border:1px solid var(--line);
  border-radius:14px;
  padding:10px 12px;
}
.statVal{ font-size:18px; font-weight:950; margin-top:4px; }

/* Table */
.tableWrap{ overflow:auto; }
.catTable{ width:100%; border-collapse:collapse; }
.catTable th, .catTable td{
  padding:10px 10px;
  border-bottom:1px solid var(--line);
  vertical-align:top;
}
.catTable th{ text-align:left; font-size:12px; color:var(--muted); font-weight:950; }
.catTable td{ font-size:13px; }
.catTable .num{ text-align:right; white-space:nowrap; font-variant-numeric: tabular-nums; }

.rowTitle{
  display:flex; align-items:center; gap:8px;
  font-weight:950;
}
.expBtn{
  width:22px; height:22px; border-radius:8px;
  border:1px solid var(--line);
  background:rgba(255,255,255,.06);
  color:var(--text);
  cursor:pointer;
  font-weight:950;
  display:flex; align-items:center; justify-content:center;
}
.expBtn:hover{ border-color:rgba(255,255,255,.22); }

.childRow td{ padding-top:8px; padding-bottom:8px; }
.childName{ padding-left:32px; color:rgba(242,244,248,.92); }
.childDesc{ display:block; margin-top:3px; color:var(--muted); font-size:12px; font-weight:650; }

.badgeIncluded{
  display:inline-block;
  margin-left:8px;
  padding:2px 8px;
  border-radius:999px;
  background:rgba(255,255,255,.06);
  border:1px solid var(--line);
  font-size:10.5px;
  color:var(--muted);
  font-weight:950;
}

/* Sticky totals under schools */
.totals-sticky{ position:sticky; bottom:0; background:linear-gradient(180deg, rgba(18,21,27,.35), rgba(18,21,27,.92)); }
.totals-sticky-up{ margin-top:12px; padding-top:12px; }

/* Right-side reference list */
.reflist{ display:flex; flex-direction:column; gap:10px; }
.refItem{
  border:1px solid var(--line);
  border-radius:14px;
  padding:10px 12px;
  background:rgba(255,255,255,.03);
}
.refItem .t{ font-weight:950; }
.refItem .d{ margin-top:4px; color:var(--muted); font-size:12.5px; line-height:1.35; }

.refnote{ margin-top:10px; color:var(--muted); font-size:12.5px; line-height:1.35; }
